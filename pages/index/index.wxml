<tab-bar></tab-bar>

<view class="section-wrapper">
  <swiper></swiper>
</view>

<view class="section-wrapper">
  <notice></notice>
</view>

<view class="section-wrapper">
  <my-card title="我的预约">
    <view slot="content">
      <block wx:if="{{currentIndex === -1}}">
        <view class="no-reservation">当前无预约</view>
      </block>
      <block wx:else>
        <view wx:if="{{reserArr[currentIndex]}}" class="reservation-info">
          <view class="info-item">实验室: {{lab[reserArr[currentIndex].labId - 1].labName}}</view>
          <view class="info-item">日期: {{reserArr[currentIndex].reservationDate}}</view>
          <view class="info-item">时间: {{reserArr[currentIndex].startTime}} - {{reserArr[currentIndex].endTime}}</view>
          <view class="info-item purpose">目的: {{reserArr[currentIndex].purpose || '无'}}</view>
        </view>
        <view wx:else class="loading">
          数据加载中...
        </view>
      </block>
    </view>
  </my-card>
</view>

<view class="button-container section-wrapper">
  <view class="button-item">
    <t-button block theme="primary" size="large" bind:tap="handletap" data-tar="/pages/bookinglab/bookinglab">开始预约</t-button>
  </view>
  <view class="button-item">
    <t-button block theme="primary" size="large" bind:tap="handletap" data-tar="/pages/choosetime/choosetime">我的预约</t-button>
  </view>
</view>